2022-07-19 14:59:30,934 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PaymentApiApplication using Java 18.0.1.1 on tuanlt2 with PID 16560 (D:\Git\demoVNPAY\vnpayDemo\payment-api\target\classes started by tuanlt2 in D:\Git\demoVNPAY\vnpayDemo\payment-api)
2022-07-19 14:59:30,937 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2022-07-19 14:59:30,940 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.3.Final
2022-07-19 14:59:30,970 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-07-19 14:59:30,970 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-07-19 14:59:31,363 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-07-19 14:59:31,364 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-07-19 14:59:31,377 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2022-07-19 14:59:31,708 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 9091 (http)
2022-07-19 14:59:31,713 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-9091"]
2022-07-19 14:59:31,713 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-07-19 14:59:31,713 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.63]
2022-07-19 14:59:31,772 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-07-19 14:59:31,772 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 802 ms
2022-07-19 14:59:32,419 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-07-19 14:59:32,456 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-9091"]
2022-07-19 14:59:32,474 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 9091 (http) with context path ''
2022-07-19 14:59:32,482 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PaymentApiApplication in 1.776 seconds (JVM running for 2.427)
2022-07-19 14:59:59,535 INFO org.apache.juli.logging.DirectJDKLog [http-nio-9091-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-07-19 14:59:59,535 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-9091-exec-1] Initializing Servlet 'dispatcherServlet'
2022-07-19 14:59:59,536 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-9091-exec-1] Completed initialization in 1 ms
2022-07-19 14:59:59,666 INFO com.example.paymentapi.controller.PaymentController [http-nio-9091-exec-1] Begin send request with data: PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,676 INFO com.example.paymentapi.controller.PaymentController [http-nio-9091-exec-1] Validate request with data PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea) 
2022-07-19 14:59:59,677 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Begin getPrivateKey() with Data Payment Request: PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,679 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] End getPrivateKeyByBankCode() Have Bank Code in YAML file
2022-07-19 14:59:59,679 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1]  Begin checkSumSHA256() with data payment request PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,683 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Begin getStringToHash with data PaymentRequest PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,685 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Private key: lkjlk
2022-07-19 14:59:59,685 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Append to String to HASH
2022-07-19 14:59:59,685 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] End getStringToHash success
2022-07-19 14:59:59,689 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Check sum SHA256:[2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3] 
2022-07-19 14:59:59,689 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Checksum success
2022-07-19 14:59:59,690 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Check Valid of Token key with payment request: PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,723 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Key exist? false
2022-07-19 14:59:59,724 INFO com.example.paymentapi.service.impl.PaymentServiceImpl [http-nio-9091-exec-1] Expire time is: 32400 
2022-07-19 14:59:59,726 INFO com.example.paymentapi.controller.PaymentController [http-nio-9091-exec-1]  Requesting data payment to RabbitMQ PaymentRequest(apiID=, mobile=0345225630, bankCode=11055, accountNo=0001100014211002, payDate=20200929112923, additionalData=11, debitAmount=11200.0, respCode=00, respDesc=SUCCESS, traceTransfer=FT19310RH6P1, messageType=1, checkSum=2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3, orderCode=FT19310RH6P1, userName=cntest001, realAmount=10100.0, promotionCode=11, tokenKey=160hd1hjf9fs19c70fH8ghfd70, addValue=com.example.paymentapi.model.AddValue@5ecff0ea)
2022-07-19 14:59:59,743 INFO com.example.paymentapi.service.RabbitMQSender [http-nio-9091-exec-1] correlationId 272167eb-9399-4f97-bac9-9bbef328f032 
2022-07-19 14:59:59,744 INFO com.example.paymentapi.service.RabbitMQSender [http-nio-9091-exec-1] Send message to queue queue.rpc with data: {"apiID":"","mobile":"0345225630","bankCode":"11055","accountNo":"0001100014211002","payDate":"20200929112923","additionalData":"11","debitAmount":11200.0,"respCode":"00","respDesc":"SUCCESS","traceTransfer":"FT19310RH6P1","messageType":"1","checkSum":"2ec7c91e26cb3a725db2a3b85da09ccfa13475850e78a8ed20d79631eead3fb3","orderCode":"FT19310RH6P1","userName":"cntest001","realAmount":10100.0,"promotionCode":"11","tokenKey":"160hd1hjf9fs19c70fH8ghfd70","addValue":{"payMethod":"01","payMethodMMS":1}}
2022-07-19 15:00:02,060 INFO com.example.paymentapi.service.RabbitMQSender [pool-2-thread-4] get body from server: 
2022-07-19 15:00:02,069 INFO com.example.paymentapi.util.MessageResponse [http-nio-9091-exec-1] Send request success and receive response success with result: {"code":"00","message":"Response from partner api: Status response 200","stackTrace":[],"suppressedExceptions":[]}
